# CustomAioMysql

**CustomAioMysql** lÃ  má»™t module tuá»³ chá»‰nh dá»±a trÃªn `aiomysql`, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± nhÆ° `sqlite3`, giÃºp Ä‘Æ¡n giáº£n hÃ³a viá»‡c sá»­ dá»¥ng MySQL báº¥t Ä‘á»“ng bá»™ trong cÃ¡c dá»± Ã¡n Python.

## ğŸš€ CÃ i Ä‘áº·t

TrÆ°á»›c tiÃªn, hÃ£y cÃ i Ä‘áº·t cÃ¡c gÃ³i cáº§n thiáº¿t:

```sh
pip install aiomysql customtkinter
```

> âœ… Module cÅ©ng tá»± Ä‘á»™ng kiá»ƒm tra vÃ  cÃ i Ä‘áº·t `aiohttp`, `aiomysql`,  náº¿u thiáº¿u.

## ğŸ“Œ TÃ­nh nÄƒng

- **Giao diá»‡n giá»‘ng sqlite3**: Sá»­ dá»¥ng hÃ m nhÆ° `execute`, `fetchone`, `fetchall`, `connect` quen thuá»™c.
- **Há»— trá»£ asyncio**: Táº­n dá»¥ng sá»©c máº¡nh cá»§a `aiomysql` Ä‘á»ƒ truy váº¥n khÃ´ng Ä‘á»“ng bá»™.
- **LÆ°u thÃ´ng tin cáº¥u hÃ¬nh**: Tá»± Ä‘á»™ng lÆ°u vÃ  táº£i láº¡i thÃ´ng tin káº¿t ná»‘i database qua file config.
- **Tá»± Ä‘á»™ng kiá»ƒm tra káº¿t ná»‘i máº¡ng** khi káº¿t ná»‘i Ä‘áº¿n host khÃ´ng pháº£i `localhost`.
- **Ghi log** chi tiáº¿t cho táº¥t cáº£ truy váº¥n vÃ o `DatabaseLogging.txt`.

## ğŸ”§ CÃ¡ch sá»­ dá»¥ng

```python
import asyncio
import msql

async def main():
    db = await msql.connect(
        host="localhost",
        port=3306,
        user="root",
        password="password",
        database="test_db"
    )

    await db.execute("CREATE TABLE IF NOT EXISTS users (id INT AUTO_INCREMENT PRIMARY KEY, name TEXT)")
    await db.execute("INSERT INTO users (name) VALUES (?)", ("Alice",))

    rows = await db.fetchall("SELECT * FROM users")
    print(rows)

    await db.close()

asyncio.run(main())
```

Hoáº·c náº¿u báº¡n Ä‘Ã£ lÆ°u cáº¥u hÃ¬nh báº±ng `connect`, báº¡n cÃ³ thá»ƒ káº¿t ná»‘i láº¡i dá»… dÃ ng báº±ng:

```python
await db.connected("test_db")
```

## ğŸ“œ API Reference

- `msql.connect(host, port, user, password, database, ...)`  
  Káº¿t ná»‘i Ä‘áº¿n má»™t database vÃ  lÆ°u láº¡i cáº¥u hÃ¬nh (`Config/configdb.cfg`).

- `msql.connected(db_name)`  
  Káº¿t ná»‘i láº¡i tá»›i database dá»±a trÃªn file cáº¥u hÃ¬nh Ä‘Ã£ lÆ°u.

- `db.execute(query: str, params: tuple = None)`  
  Thá»±c thi truy váº¥n nhÆ° `INSERT`, `UPDATE`, `DELETE`. Tráº£ vá» sá»‘ dÃ²ng bá»‹ áº£nh hÆ°á»Ÿng.

- `db.fetchall(query: str, params: tuple = None)`  
  Truy váº¥n vÃ  tráº£ vá» toÃ n bá»™ káº¿t quáº£ (danh sÃ¡ch dÃ²ng).

- `db.fetchone(query: str, params: tuple = None)`  
  Truy váº¥n vÃ  tráº£ vá» má»™t dÃ²ng duy nháº¥t.

- `db.close()`  
  ÄÃ³ng káº¿t ná»‘i database.

## ğŸ“‚ Ghi chÃº cáº¥u hÃ¬nh

File config Ä‘Æ°á»£c lÆ°u táº¡i: `Config/configdb.cfg`  
Vá»›i Ä‘á»‹nh dáº¡ng:

```ini
[database]
host = localhost
port = 3306
user = root
password = your_password
```

> âš ï¸ Äáº£m báº£o Ä‘Æ°á»ng dáº«n `Config/` tá»“n táº¡i hoáº·c module sáº½ tá»± táº¡o náº¿u chÆ°a cÃ³.

## ğŸ Ghi log

Má»i truy váº¥n Ä‘á»u Ä‘Æ°á»£c ghi log vÃ o file `DatabaseLogging.txt`, bao gá»“m:

- Query thá»±c thi
- Tham sá»‘ truyá»n vÃ o
- Sá»‘ dÃ²ng bá»‹ áº£nh hÆ°á»Ÿng hoáº·c káº¿t quáº£ tráº£ vá»
- Lá»—i náº¿u cÃ³

## ğŸ“„ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t hÃ nh theo giáº¥y phÃ©p **MIT**.  
Báº¡n cÃ³ thá»ƒ tá»± do chá»‰nh sá»­a, phÃ¢n phá»‘i vÃ  sá»­ dá»¥ng theo Ã½ muá»‘n ğŸ’•

---

âœ¨ Náº¿u báº¡n tháº¥y dá»± Ã¡n há»¯u Ã­ch, hÃ£y â­ cho repo nÃ y nhÃ©! Má»i gÃ³p Ã½ Ä‘á»u Ä‘Æ°á»£c trÃ¢n trá»ng ğŸ’–
## DEMOCODE
```python
import msql
import asyncio
async def test():
    database=msql.msql
    await database.connect(
        host="test",
        port=3306,
        user="DieuNguyen",
        password="123123",
        db="db"
    )
    await database.execute('CREATE TABLE IF NOT EXISTS test(test BIGINT,test2 BIGINT)')
    await database.execute('INSERT INTO test(test,test) value(%s,%s)',(1,2))
    rows = await database.fetchall("SELECT * FROM test")
    print(rows)
asyncio.run(test())
```

